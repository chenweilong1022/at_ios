webpackJsonp([3,12],{"/zQB":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={data:function(){return{groupType:null,uploadUrl:"",options:[],tableData:[],navyUrlFileList:[],dataUserGroupList:[],materialUrlFileList:[],isModalVisible:!1,tableDataFlag:!1,fileContentList:[],remaining:"",countryCodes:[],dataRule:{},dataForm:{id:null,userGroupId:null,groupType:null,groupName:"",countryCode:66,groupCount:null,navyUrlList:[],materialUrlList:[]}}},components:{ModalBox:e("FgeY").default},activated:function(){var t=this.$route.query.id;this.dataForm.id=t,this.uploadUrl=this.$http.adornUrl("/app/file/upload"),this.getCountryCodeEnums(),this.getUserGroupDataList(),this.getGroupType()},methods:{getGroupType:function(){var t=this;this.$http({url:this.$http.adornUrl("/app/enums/getGroupType"),method:"get"}).then(function(a){var e=a.data;e&&0===e.code?t.options=e.data:t.$message.error(e.msg)})},groupTypeChangeHandler:function(){this.dataForm.groupType=this.groupType},getUserGroupDataList:function(){var t=this;this.$http({url:this.$http.adornUrl("/ltt/atusergroup/list"),method:"get",params:this.$http.adornParams({page:1,limit:100})}).then(function(a){var e=a.data;e&&0===e.code?t.dataUserGroupList=e.page.list:t.dataUserGroupList=[]})},getCountryCodeEnums:function(){var t=this;this.$http({url:this.$http.adornUrl("/app/enums/countryCodes"),method:"get"}).then(function(a){var e=a.data;e&&0===e.code?t.countryCodes=e.data:t.$message.error(e.msg)})},hide:function(){this.tableDataFlag=!1},show:function(){this.tableDataFlag=!0},startGroupHandler:function(){var t=this;this.$http({url:this.$http.adornUrl("/ltt/atgrouptask/onGroupStart"),method:"POST",data:this.$http.adornData({id:this.dataForm.id,groupName:this.dataForm.groupName,countryCode:this.dataForm.countryCode,userGroupId:this.dataForm.userGroupId,navyUrlList:this.dataForm.navyUrlList,materialUrlList:this.dataForm.materialUrlList,groupType:this.groupType,groupCount:this.dataForm.groupCount})}).then(function(a){var e=a.data;e&&0===e.code||t.$message.error(e.msg)})},onGroupPreHandler:function(){var t=this;this.show(),this.dataForm.navyUrlList=[];for(var a=0;a<this.navyUrlFileList.length;a++){var e=this.navyUrlFileList[a];this.dataForm.navyUrlList.push(e.response.data)}console.log(this.dataForm.navyUrlList),this.dataForm.materialUrlList=[];for(var n=0;n<this.materialUrlFileList.length;n++){var o=this.materialUrlFileList[n];this.dataForm.materialUrlList.push(o.response.data)}console.log(this.dataForm.materialUrlList),this.$http({url:this.$http.adornUrl("/ltt/atgrouptask/onGroupPre"),method:"POST",data:this.$http.adornData({groupName:this.dataForm.groupName,navyUrlList:this.dataForm.navyUrlList,materialUrlList:this.dataForm.materialUrlList,groupCount:this.dataForm.groupCount})}).then(function(a){var e=a.data;e&&0===e.code?(t.tableData=e.onGroupPreVOS,t.remaining=e.remaining):t.$message.error(e.msg)})},handleMaterialUrlListHanlder:function(t,a,e){this.materialUrlFileList=e},handleMaterialUrlListHanlderRemove:function(t,a){this.materialUrlFileList=a},handleMaterialUrlListHanlderPreview:function(t,a){this.materialUrlFileList=a},handleNavyUrlListHandler:function(t,a,e){this.navyUrlFileList=e},handleNavyUrlListHandlerRemove:function(t,a){this.navyUrlFileList=a},handleNavyUrlListHandlerPreview:function(t,a){this.navyUrlFileList=a},onMouseOver:function(){var t=this;this.$http({url:this.$http.adornUrl("/ltt/atgrouptask/getGroupNameList"),method:"get",params:this.$http.adornParams({groupName:this.dataForm.groupName,groupCount:this.dataForm.groupCount})}).then(function(a){var e=a.data;e&&0===e.code?t.fileContentList=e.data:t.$message.error(e.msg)})}}},o={render:function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"mod-config"},[n("el-form",{ref:"dataForm",attrs:{model:t.dataForm,rules:t.dataRule}},[n("div",{staticClass:"group-container"},[n("div",{staticClass:"img-logo"},[n("img",{attrs:{src:e("rG05")}}),t._v(" "),n("div",{staticClass:"title"},[t._v("拉群配置")]),t._v(" "),n("el-form-item",{attrs:{label:"拉群号国家"}},[n("el-select",{attrs:{placeholder:"拉群号国家",clearable:""},model:{value:t.dataForm.countryCode,callback:function(a){t.$set(t.dataForm,"countryCode",a)},expression:"dataForm.countryCode"}},t._l(t.countryCodes,function(t){return n("el-option",{key:t.key,attrs:{label:t.value,value:t.key}})}))],1),t._v(" "),n("el-form-item",{attrs:{label:"拉群号分组",prop:"userGroupId"}},[n("el-select",{attrs:{placeholder:"账户分组"},model:{value:t.dataForm.userGroupId,callback:function(a){t.$set(t.dataForm,"userGroupId",a)},expression:"dataForm.userGroupId"}},t._l(t.dataUserGroupList,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),n("el-form-item",{attrs:{label:"拉群类型",prop:"groupType"}},[n("el-select",{staticClass:"m-2",staticStyle:{width:"240px"},attrs:{placeholder:"选择类型",size:"large"},on:{change:t.groupTypeChangeHandler},model:{value:t.groupType,callback:function(a){t.groupType=a},expression:"groupType"}},t._l(t.options,function(t){return n("el-option",{key:t.key,attrs:{label:t.value,value:t.key}})}))],1)],1),t._v(" "),n("div",{staticClass:"group-content"},[n("div",{staticClass:"title"},[t._v("自定义群名")]),t._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"",prop:"groupName"}},[n("el-input",{attrs:{placeholder:"自定义群名"},model:{value:t.dataForm.groupName,callback:function(a){t.$set(t.dataForm,"groupName",a)},expression:"dataForm.groupName"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"",prop:"groupCount"}},[n("el-input",{attrs:{placeholder:"数量"},model:{value:t.dataForm.groupCount,callback:function(a){t.$set(t.dataForm,"groupCount",a)},expression:"dataForm.groupCount"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:24}},[n("el-tooltip",{staticClass:"item",attrs:{content:null,effect:"dark",placement:"top-start"}},[n("template",{attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"tooltip-content"},t._l(t.fileContentList,function(a){return n("pre",[t._v(t._s(a))])}))]),t._v(" "),n("el-button",{on:{click:t.onMouseOver}},[t._v("查看群名")])],2)],1)],1),t._v(" "),n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:12}},[n("div",{staticClass:"title"},[t._v("水军")]),t._v(" "),n("el-upload",{staticStyle:{"text-align":"center"},attrs:{drag:"",action:t.uploadUrl,"on-success":t.handleNavyUrlListHandler,"on-preview":t.handleNavyUrlListHandlerPreview,"on-remove":t.handleNavyUrlListHandlerRemove,multiple:""},model:{value:t.navyUrlFileList,callback:function(a){t.navyUrlFileList=a},expression:"navyUrlFileList"}},[n("i",{staticClass:"el-icon-upload"}),t._v(" "),n("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),n("em",[t._v("点击上传")])])])],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("div",{staticClass:"title"},[t._v("料子")]),t._v(" "),n("el-upload",{staticStyle:{"text-align":"center"},attrs:{drag:"",action:t.uploadUrl,"on-success":t.handleMaterialUrlListHanlder,"on-preview":t.handleMaterialUrlListHanlderPreview,"on-remove":t.handleMaterialUrlListHanlderRemove,multiple:""},model:{value:t.materialUrlFileList,callback:function(a){t.materialUrlFileList=a},expression:"materialUrlFileList"}},[n("i",{staticClass:"el-icon-upload"}),t._v(" "),n("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),n("em",[t._v("点击上传")])])])],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[n("el-button",{on:{click:t.startGroupHandler}},[t._v("开始拉群")]),t._v(" "),n("el-button",{on:{click:t.onGroupPreHandler}},[t._v("预览")]),t._v(" "),n("el-button",{on:{click:t.hide}},[t._v("隐藏表格")]),t._v(" "),n("el-button",{on:{click:t.show}},[t._v("显示表格")])],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:24}},[t.tableDataFlag?n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[n("el-table-column",{attrs:{label:t.remaining,align:"center"}},[n("el-table-column",{attrs:{prop:"groupName",align:"center",label:"群名称"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"navyTextListsStr",label:"水军"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"materialUrlsStr",label:"料子"}}),t._v(" "),n("el-table-column",{attrs:{align:"center",prop:"total",label:"总和"}})],1)],1):t._e()],1)],1)],1),t._v(" "),n("div",{staticClass:"money-container"})])]),t._v(" "),n("modal-box",{attrs:{isVisible:t.isModalVisible,textContent:t.fileContent},on:{"update:isVisible":function(a){t.isModalVisible=a}}})],1)},staticRenderFns:[]};var r=e("46Yf")(n,o,!1,function(t){e("iEyj")},"data-v-30ace396",null);a.default=r.exports},FgeY:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n={props:{isVisible:Boolean,textContent:String},methods:{closeModal:function(){this.$emit("update:isVisible",!1)}}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.isVisible?e("div",{staticClass:"modal-overlay",on:{click:function(a){if(a.target!==a.currentTarget)return null;t.closeModal(a)}}},[e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-header"},[e("h3",[t._v("Text File Content")]),t._v(" "),e("button",{on:{click:t.closeModal}},[t._v("Close")])]),t._v(" "),e("div",{staticClass:"modal-body"},[e("pre",[t._v(t._s(t.textContent))])])])]):t._e()},staticRenderFns:[]};var r=e("46Yf")(n,o,!1,function(t){e("Wxgv")},"data-v-21d7af7c",null);a.default=r.exports},PlrG:function(t,a,e){(t.exports=e("acE3")(!1)).push([t.i,"\n.modal-overlay[data-v-21d7af7c] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n}\n.modal[data-v-21d7af7c] {\n  background: white;\n  padding: 20px;\n  border-radius: 5px;\n  width: 50%;\n  max-width: 500px;\n}\n.modal .modal-header[data-v-21d7af7c] {\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-pack: justify;\n        -ms-flex-pack: justify;\n            justify-content: space-between;\n    -webkit-box-align: center;\n        -ms-flex-align: center;\n            align-items: center;\n}\n.modal .modal-header h3[data-v-21d7af7c] {\n      margin: 0;\n}\n.modal .modal-header button[data-v-21d7af7c] {\n      border: none;\n      background-color: #f44336;\n      color: white;\n      padding: 5px 10px;\n      border-radius: 3px;\n      cursor: pointer;\n}\n.modal .modal-header button[data-v-21d7af7c]:hover {\n        background-color: #ea1c0d;\n}\n.modal .modal-body[data-v-21d7af7c] {\n    margin-top: 20px;\n}\n.modal .modal-body pre[data-v-21d7af7c] {\n      white-space: pre-wrap;\n      /* CSS 3 */\n      white-space: -moz-pre-wrap;\n      /* Mozilla, since 1999 */\n      white-space: -pre-wrap;\n      /* Opera 4-6 */\n      white-space: -o-pre-wrap;\n      /* Opera 7 */\n      word-wrap: break-word;\n      /* Internet Explorer 5.5+ */\n}\n",""])},Wxgv:function(t,a,e){var n=e("PlrG");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("XkoO")("6e8d033e",n,!0)},hYlD:function(t,a,e){(t.exports=e("acE3")(!1)).push([t.i,"\n.tooltip-content[data-v-30ace396] {\n  max-height: 100px;\n  overflow-y: auto;\n  white-space: normal;\n}\n.mod-config[data-v-30ace396] {\n  width: 100px;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.mod-config .el-form[data-v-30ace396] {\n    -webkit-box-flex: 1;\n        -ms-flex: 1;\n            flex: 1;\n    display: -webkit-box;\n    display: -ms-flexbox;\n    display: flex;\n}\n.mod-config .el-form .group-container[data-v-30ace396] {\n      -webkit-box-flex: 1;\n          -ms-flex: 1;\n              flex: 1;\n      display: -webkit-box;\n      display: -ms-flexbox;\n      display: flex;\n      -webkit-box-orient: horizontal;\n      -webkit-box-direction: normal;\n          -ms-flex-direction: row;\n              flex-direction: row;\n}\n.mod-config .el-form .group-container .img-logo[data-v-30ace396] {\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n}\n.mod-config .el-form .group-container .img-logo .title[data-v-30ace396] {\n          margin: 10px 0px;\n          text-align: center;\n          font-size: 30px;\n          font-weight: bold;\n}\n.mod-config .el-form .group-container .group-content[data-v-30ace396] {\n        -webkit-box-flex: 2;\n            -ms-flex: 2;\n                flex: 2;\n        margin: 0 auto;\n        text-align: center;\n        font-size: 30px;\n        font-weight: bold;\n}\n.mod-config .el-form .group-container .group-content .title[data-v-30ace396] {\n          margin: 20px 0;\n}\n.mod-config .el-form .group-container .money-container[data-v-30ace396] {\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n}\n",""])},iEyj:function(t,a,e){var n=e("hYlD");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("XkoO")("7ac70ce4",n,!0)},rG05:function(t,a,e){t.exports=e.p+"static/img/250px-Bagua-name-earlier.svg.722a8d1.png"}});