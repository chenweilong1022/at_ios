<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="io.renren.modules.ltt.dao.AtUserDao">

	<!-- 可根据自己的需求，是否要使用 -->
    <resultMap type="io.renren.modules.ltt.entity.AtUserEntity" id="atUserMap">
        <result property="id" column="id"/>
        <result property="avatar" column="avatar"/>
        <result property="nation" column="nation"/>
        <result property="telephone" column="telephone"/>
        <result property="nickName" column="nick_name"/>
        <result property="numberFriends" column="number_friends"/>
        <result property="password" column="password"/>
        <result property="userGroupId" column="user_group_id"/>
        <result property="userGroupName" column="user_group_name"/>
        <result property="customerServiceId" column="customer_service_id"/>
        <result property="customerService" column="customer_service"/>
        <result property="deleteFlag" column="delete_flag"/>
        <result property="createTime" column="create_time"/>
        <result property="userTokenId" column="user_token_id"/>
        <result property="sysUserId" column="sys_user_id"/>
    </resultMap>

    <update id="updateCustomerByIds">
        update
        at_user
        set customer_service_id = #{customerServiceId},
            customer_service = #{customerService}
        WHERE id IN (
        <foreach collection="ids" item="item" separator=",">
            #{item}
        </foreach>
        )
    </update>

    <select id="queryCountBySysUserId" resultType="java.lang.Integer">
        select count(1)
        from at_user
        where sys_user_id = #{sysUserId}
          and delete_flag = 1
    </select>

</mapper>